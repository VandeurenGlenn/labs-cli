{"version":3,"file":"cli.js","sources":["../src/index.js"],"sourcesContent":["import commander from 'commander';\r\nimport { version } from '../package.json';\r\nimport checkpoints from 'crypto-checkpoints'\r\ncommander\r\n  .version(version)\r\n  .option('api', 'start api')\r\n  .option('checkpoints', 'update checkpoints')\r\n  .option('node', 'start crypto-ipfs-node')\r\n  .option('version', 'current version')\r\n  .parse(process.argv);\r\n\r\nconst commands = {\r\n  daemon: Boolean(commander.deamon),\r\n  api: Boolean(commander.api),\r\n  checkpoints: Boolean(commander.checkpoints),\r\n  node: Boolean(commander.node),\r\n}\r\n\r\nconst tasks = {\r\n  api: () => require('crypto-io-api'),\r\n  checkpoints: () => checkpoints.start(),\r\n  node: () => require('crypto-ipfs-node')\r\n}\r\n\r\nfor (const command of Object.entries(commands)) {\r\n  const name = command[0];\r\n  const enabled = command[1];\r\n  if (enabled) {\r\n    tasks[name]();\r\n  }\r\n}\r\n"],"names":["commander","version","option","parse","process","argv","commands","Boolean","deamon","api","checkpoints","node","tasks","require","start","command","Object","entries","name","enabled"],"mappings":";;;;;;;;;AAGAA,UACGC,OADH,CACWA,OADX,EAEGC,MAFH,CAEU,KAFV,EAEiB,WAFjB,EAGGA,MAHH,CAGU,aAHV,EAGyB,oBAHzB,EAIGA,MAJH,CAIU,MAJV,EAIkB,wBAJlB,EAKGA,MALH,CAKU,SALV,EAKqB,iBALrB,EAMGC,KANH,CAMSC,QAAQC,IANjB;AAQA,MAAMC,WAAW;UACPC,QAAQP,UAAUQ,MAAlB,CADO;OAEVD,QAAQP,UAAUS,GAAlB,CAFU;eAGFF,QAAQP,UAAUU,WAAlB,CAHE;QAITH,QAAQP,UAAUW,IAAlB;CAJR;AAOA,MAAMC,QAAQ;OACP,MAAMC,QAAQ,eAAR,CADC;eAEC,MAAMH,YAAYI,KAAZ,EAFP;QAGN,MAAMD,QAAQ,kBAAR;CAHd;AAMA,KAAK,MAAME,OAAX,IAAsBC,OAAOC,OAAP,CAAeX,QAAf,CAAtB,EAAgD;QACxCY,UAAOH,QAAQ,CAAR,CAAb;QACMI,UAAUJ,QAAQ,CAAR,CAAhB;MACII,OAAJ,EAAa;UACLD,OAAN;;"}